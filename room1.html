<link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<!------ Include the above in your HEAD tag ---------->

<link href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="js/common.js"></script>
<!------ Include the above in your HEAD tag ---------->

<!DOCTYPE html>
<html class=''>

<head>
    <meta charset='UTF-8'>
    <meta name="robots" content="noindex">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="canonical" href="https://codepen.io/emilcarlsson/pen/ZOQZaV?limit=all&page=74&q=contact+" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700,300' rel='stylesheet' type='text/css'>

    <script src="https://use.typekit.net/hoy3lrg.js"></script>

    <link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHIAAAByCAYAAACP3YV9AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAADGdJREFUeJztnXtwVFcdx+u0/oeI/zEdhw3J7gWkKNSqVDo+po46ou04zKgj0lJ1ilKktA6j1TJOOyqj4mj1Dye6CQkNBAgVlBTSQEI2yW4eJCFkIU9CyPtBXpvXJvv6+fvdvRvTdDfZvfece+6G+535DhmyuY/fZ+855/e759z70EOmTJkyZcqUKVOmTJkyZWopSaXjD6PXoreh96HT0YVoN3oA7UNDFPuU37uVz6crf79N2d7Dos9txQuDvAq9B52FrkePoEMxgCXqkLK9emX7tJ9Vos95xQiDaUUfRBegpxlBi9fTyn5p/1bRsUg6YdBWo3eic9G9DK86LVdrr3I8dFyrRcfI0FrQdDrRQcHwYjmoHJ/Z9C4WBmQN+hB6zACgEvGYctxrRMdQuJRvdpMkvvnU0uzS8e8SHUshwhPfgr5gABAsTeezRXRsdZEU7gf3o/sMEHge7lPOb+X2n3hy69A5knEHMqwcVM5zneiYMxee1HZ0hwGCrKfpfLeLjj0z4cn8AD1hgMCKsAe9WzQDTcITeAR9xADBNIIpDo+IZqJKeODH0AEDBNEIpjgcE80kYeFBZxogeEZ0pmg2cUkKN6fHDBAwI5viY+xmVgr3BWZzurQpPkdEs4opPLjdBghSMtl4o1kpnCd6DBCcZDLFyzh5phSu2HQYIDDJaIqb+AqQFK6d5hggIMlsip/Y2qwULhCv9Nopb1P89ouESLeiVupdDL1NcRRzC0xaefcTRfuCCIi7DHDiK9H6zTSQwnNsmgxw0ivRFFd95gBJ8oSjMdEnvFJNc4AO6QGR0g1dZrttr/DAs7WT8HLjNPzxrhfO9M+Bc8wPdZ4A9MwGodsbhBr8uRz/7yz+7k/4mYP42Wfwbz7j8sAG8VDUmuLLNx3BHTzH8yQ+h/Bea5kBF8IZ8YUgGIKERX8yNBeCslE/HG6ehidxmwaAk6j38IRIM8CdrA/6k+Ue+KF7CqrG/arALSc/brMCvxgv4D4eKxcOKF5TnPnMaJfC0+WZJv+vNk2DezIAAQ4AF4v20TwVgBdrhkAqGhINajlTnHfyApnL6kB31kxC8YifP70oou/Mez0e+IbT8DBzeUCkVVG9Wg9uMzZt1G8NzgWFQFyovmkfHLo5Ahsdo6KBxTLFm+0qMEleWqYt5dhcNg5/u+cFAzCc12wgCH9uGoEN14ZFQ4tmSkUOsgZZoOWgNiHEU31zoENXqEoZjf2wqbBXNLhoLmAJkXJHTYtMs3tmDQuRFAyF4K91nZD6ThN8tdoDR9u98I+uWTiJX76/d87KeezLODD7OvbtOuenFHc2OaUUXjGl+mCoT/QbmeIC/bjwFjx+tg5qhqdjfsaLORIVIuzds/DirSnY6uSep7LJKaXwmnpVB0EJ/v25JKGIahmdgidzK+D7lxrkq3Q5zWJ/fwvTpz/gFftU5QQvkFksINLTM+rVHkQ6Nk/Jpr/U3oN1/yqBq53DCf3dvZkg/A6bZCpwMAZJ8df2tBEp/MiSETUHQN/QMV/yXI0R3R2fga1vO+F779bHdVUu1s2JAOy6MckSJMV/rVaQ29SmHVTATkYRvFdKmmBzdjn0TalrUcZwUPAqjg0YgaQ0ZJtWkPvUHkDewBzjEOun0839cvNa1DWieht0Lf/2jpcVzH1aQaar3Xn7jIEy/wR1Y2hCBpne0K1pOzOBEOzDkS0DkOlaQRaq3Xkyq3vSK4P8VXmr5m2NYzO7o1LzAKhQK0j3gwhy2OuTQf7c0cxke3l9XtiorcTp1gpyQO3Ok6UIEE3tOHJlCXIuEISvFXWA5FANc0AryFhPWVzWlCgnqyr6xmSQx2o6mG3zaFU7rD9zUy1Mn1aQqpuD4z3JVwyI6PitHhlkXusAs21W9Y/L21QLUxjIvQ1Thi6UxxI1gz8qdIM1o1Qu2bHSjD8ggySnnKoDqSSx+6DCQD7h8kCXN/lSkHpMPT6RVQZP51WDN8D2+CMgIzBtxfeND5L8RtsM00Doodedrcz7RxJVjBaCDMOsjRumUJAby8ahI4kKAy4c5DyWXQ5PnHTJswdY6vbw5AdAyjDfrgZb0SB3kKpHrRF/u24SpvWYJqdRBG7n+RpYb3dABg52WOufDd1RQcowsyvBdnVJmJpHrarzyIX+RcuMofNKfzAEP7l6Ww7qz4obIaDirsdSomZ118UbMUGSLcedYLsyECuGmvNI1ZWdxX69dUYuVxlNNKA5VNIEKXgl7r50Ewam2adNlZh62DJLlwQZgWm93B0tfporO6prrdF8uHlGXgpgFI3N+uDgtUY5iN+6UMsFIl3dz+C2l4M4DzOjDKwFPYtjp7nWqvruRyx/s3ZSnl0uEictTXDj4OMr567LwaObyCNeH4f9hOZnHCRiSybCvNS5MG6a736ovh+5lD/l9Aib4+oLhoO7CXNFGtj8sqxFLgLw0OmWfkjNcCQMMnxllkJafkckZprvR6qeIRCPv1Q1AecH50CP1nbaH4Ccpj54PMcFFgzUF85UQXU/n7s0AfyynGjsVQXwfcYvWtp/2kKSY0zzDIG1VlcP16d20LK3O9P8Ls3OCS8crW6Hp05XygBpCkcmphfjs3zWnkz6AvJ9TCrxaQYpwywdTTlV+6hWkJpm0cVjWtDaxggk9Ul0U/hyx334fVW7PICJNG0p9hL4tbMVJub4AKRBTf7dIfji2So2AP/vBhzNan9nl6RhXisrkI0jk/AbV5vct9HVlH27d970f29U3JHzQAL32ZMVct8XLShUsaGrk7bnY7gYkwriz11uiCvFUNG8vq0ZogJS00xzrSApJXj6XDXT4FAZ7qWiRvh32wD0qpwpt1CRGQU8jIOeF1iBXGUrH+LWTy4F8v7MHHwnv55bkCKm/vM1HL1muHvk5tHZOybfXI64uGsESntGRYD0YrPKbuWypHE1lhqQNGjYW+DmDjFep2Ffm40jUV1B2h1XmEFUQGpeH5kISBq0/BT7PIsBAC60dLwULrYP6QUyhCBfYQ3SmlZxT/OdkHhAUgH7aPVdufYpGlw0bzlRDnWDHj1A9lkyyjYwBanAZPYMgaVAUvOVprIaopd3YJ9Ka0S4grQ7zjCHqIDcyaN5XQiSBhVGvRIX+8t51fJgjBPIEI5Wn+UFcrWltmacF0iaK0NVF9GAEvHegga5wMAcpN1RYcks/ygXkApM5jklgbwy7IMtp9jminr5QHEjDE7PMd2mxV66lxtEBeQqq7PfzxIkPY3q85UeWJ93SzgUNaYq0uHSFpbb9FiyXB/hClKByefpkI4xSD3fLByMYFPfyDblWALkmtSqVj5vn5Nh4reb1Z2DpLOjBfvGj+kCUoHJtf6a9t87DyRMZnXVBGFyfaa5taBbnowkOri62e7I1x2iAnKL1dU1yxVmYR9YsivEB5m/BywZZVuFgFRg7uf9WGyauEuzsQ0QbF4OrbOXHhAGUQGpy5t4bEVDkJJzXXTA+djuyMUBDv90Iw6Y69IqOqa4wyy+Dykna8QHni3ELhzgpIhmOC8M9HZb+SCXuyPvc8movFBUOAA2nkCIO0Sz+4Akvd4fiTBTzyVnFWihEeLzKTnVHxLNLaokeqNrmT5PJE690CLP+xQNRIWDOLh5UzSrJSXp+o7lMUi72I6BSTKY9tK3cHDzYdGs4pKk41vPre92AgZGPKC4IDqyRLNJWPKVqVMza3uv1+hVIGpO3xLNRJWUZvaIXlem7Uo/WLIrRQOL1Zy+mTTNaSxhkHdbnf26vPVVLhycYD5lX4spxXheNANmwiBvT61q459nEsziYcBhvWiAkWR/h2FTDLWSwm9Hz9HllYUlI7D+NP8Z6jEckstuRqrYsJYUrs3uT6u8y7+ppSrQWbfeueYA9ocvGaJ2qoek8Iu2+b+jmapA7zTq1ZTmC70VJVIY7D3rr7v9vJtbecaBndeMA0cLAvyu6FgKlxR+Z/Mhq6snxBVmfgfrZtZDE6V0nWOTDFL6zz3rbrjmeF2h8owDrYUDmjxsL91ryXLxfX1usksKvzmWXjqam1bZHmQN1SZPH0mkcHCN/u2jtRg0jZ/rDPCVKin83sqD6AJb+SCzpleGuXzhwEvrE2lpG5dVUQ+qIk0vOstSU+e3urpDWq5WecbB/Fyga/Dx7MtB/LmB1uzTtESmK4VNRZcUftoIve5pmxR+qBM9oYset0bPzqMHIcaqIvmU39PnChFmOjazBxDep7HJfJTJ0zNMmTJlypQpU6ZMmTJlypQpg+t/5hy02F7OZu4AAAAASUVORK5CYII=" type="image/x-icon" />

    <script>try { Typekit.load({ async: true }); } catch (e) { }</script>
    <link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css'>
    <link rel='stylesheet prefetch'
        href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.2/css/font-awesome.min.css'>

        <link rel="icon" type="icon/x-image" href="https://api.byi.pw/favicon/?url=http://www.google.com" />
        <script type="text/javascript" src="https://unpkg.com/favicon.js/dist/favicon.min.js"></script>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="js/connectivity.js"></script>
	<!-- supporting files for Notificatio -->
	<link rel="stylesheet" href="https://www.jqueryscript.net/demo/Simple-Flexible-jQuery-Alert-Notification-Plugin-notify-js/css/notify.css">
	<link rel="stylesheet" href="https://www.jqueryscript.net/demo/Simple-Flexible-jQuery-Alert-Notification-Plugin-notify-js/css/prettify.css">
	<script src="https://www.jqueryscript.net/demo/Simple-Flexible-jQuery-Alert-Notification-Plugin-notify-js/js/notify.js"></script>
	<script src="https://www.jqueryscript.net/demo/Simple-Flexible-jQuery-Alert-Notification-Plugin-notify-js/js/prettify.js"></script>
	<!-- End  -->

  <link rel="stylesheet" type="text/css" href="css/style.css" />
    


	 <script src="js/easyNotify.js"></script>
	 <script>
		$(document).ready(function(){
			//alert('Hi');
			TostNotification();	
		});
		function TostNotification(){			 
			 var myImg = "https://unsplash.it/600/600?image=777";			   
			   var options = {
				 title: "Test Title",
				 options: {
				   body: "Test Message",
				   icon: myImg,
				   lang: 'en-US'				   
				 }
			   }; 
			   $("#easyNotify").easyNotify(options);		 
		}
		</script>
</head>

<body>
    <div class="modal" id="myModalEye">
        <div style="width: 7000px;" class="modal-dialog modal-lg">
            <div style="margin-left: -610px;width: 8000px" class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Geographical Details</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">

                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Sno.</th>
                                <th>Ip Address</th>
                                <th>latitude</th>
                                <th>longitude</th>
                                <th>Postals</th>
                                <th>City</th>
                                <th>State</th>
                                <th>Country</th>
                                <th>Country Code</th>
                            </tr>
                        </thead>
                        <tbody id="responseInModal">

                        </tbody>
                    </table>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" onclick="calcelPopup()" class="btn btn-danger"
                        data-dismiss="modal">Close</button>
                </div>

            </div>

        </div>
    </div>
    <div class="main-container" id="frame">
	<script>
		$(document).ready(function () {
			$('.show-menu').click(function() {
				$('#sidepanel').toggleClass("active");
				$(this).toggleClass("opened");
			});
		});
	</script>
        <div id="sidepanel">
			<div class="show-menu"><i class="fa fa-angle-right" aria-hidden="true"></i></div>
            <div id="profile">
                <div class="wrap">
                    <img id="profile-img" src="https://bootdey.com/img/Content/avatar/avatar4.png" class="online"
                        alt="" />
                    <p class="agentname">Mike Ross</p>
                    <i class="fa fa-chevron-down expand-button" aria-hidden="true"></i>
                    <div id="status-options">
                        <ul>
                            <li id="status-online" class="active" onclick="agentOnline()"><span class="status-circle"></span>
                                <p>Online</p>
                            </li>
                            <li id="status-busy" onclick="agentBusy()"><span class="status-circle"></span>
                                <p>Busy</p>
                            </li>
                        
                        </ul>
                    </div>
                    <div id="expanded">
                        <label for="twitter"><i class="fa fa-facebook fa-fw" aria-hidden="true"></i></label>
                        <input name="twitter" type="text" value="mikeross" />
                        <label for="twitter"><i class="fa fa-twitter fa-fw" aria-hidden="true"></i></label>
                        <input name="twitter" type="text" value="ross81" />
                        <label for="twitter"><i class="fa fa-instagram fa-fw" aria-hidden="true"></i></label>
                        <input name="twitter" type="text" value="mike.ross" />
                    </div>
                </div>
            </div>
            <div id="search">
                <label for=""><i class="fa fa-search" aria-hidden="true"></i></label>
                <input type="text" placeholder="Search contacts..." />
            </div>
            <div id="contacts">
                <ul id="body_users">
                    <li class="contact">
                        <div class="wrap">
                            <span class="contact-status online"></span>
                            <img src="images/profile.png" alt="" />
                            <div class="meta">
                                <p class="name">No user</p>

                            </div>
                        </div>
                    </li>
                    <!-- <li class="contact">
                        <div class="wrap">
                            <span class="contact-status busy"></span>
                            <img src="http://emilcarlsson.se/assets/louislitt.png" alt="" />
                            <div class="meta">
                                <p class="name">Louis Litt</p>
                                <p class="preview">You just got LITT up, Mike.</p>
                            </div>
                        </div>
                    </li>
                    <li class="contact">
                        <div class="wrap">
                            <span class="contact-status away"></span>
                            <img src="http://emilcarlsson.se/assets/rachelzane.png" alt="" />
                            <div class="meta">
                                <p class="name">Rachel Zane</p>
                                <p class="preview">I was thinking that we could have chicken tonight, sounds good?</p>
                            </div>
                        </div>
                    </li>
                    <li class="contact">
                        <div class="wrap">
                            <span class="contact-status"></span>
                            <img src="http://emilcarlsson.se/assets/donnapaulsen.png" alt="" />
                            <div class="meta">
                                <p class="name">Donna Paulsen</p>
                                <p class="preview">Mike, I know everything! I\'m Donna..</p>
                            </div>
                        </div>
                    </li> -->
                </ul>
                <ul id="assign_agent">
                </ul>
            </div>
            <!-- <div id="bottom-bar">
                <button id="addcontact"><i class="fa fa-user-plus fa-fw" aria-hidden="true"></i> <span>Add
                        contact</span></button>
                <button id="settings"><i class="fa fa-cog fa-fw" aria-hidden="true"></i> <span>Settings</span></button>
            </div> -->
            <div id="bottom-bar">
                <button id="addcontact" onclick="agentdashboard()"><i class="fa fa-user-plus fa-fw"
                        aria-hidden="true"></i> <span>Dashboard</span></button>
                <button id="settings" onclick="logout()"><i class="fa fa-cog fa-fw" aria-hidden="true"></i>
                    <span>Logout</span></button>
            </div>
        </div>
        <div class="content">
            <div class="contact-profile" onmouseover="HoldUnhold()">
                <img src="images/profile.png" alt="" />
                <div class="dropdown" style='float: right'>
                    <button  class="dropbtn"><img src="images/tripleDot.png" alt=""></button>
                    <div class="dropdown-content">
                        <a href="#" onclick="transfer()">Transfer</a>
                        <a href="#" onclick="onHold()" id="hold" name="hold"></a>
                        <a href="#" onclick="chatClose()">Close Chat</a>
                        <a href="#" onclick="banuser()">Block</a>
                    </div>
                </div>

                <p class="name">Harvey Specter</p>
                <div class="load-more-btn">
                    <!-- <button id="LoadMoreProducer">Load More</button> -->
                </div>
            </div>
            <div class="messages" id="messages">
                <ul>

                    <!-- <li class="sent">
                        <img src="http://emilcarlsson.se/assets/mikeross.png" alt="" />
                        <p>Hi
                        </p>
                    </li>
                    <li class="replies">
                        <img src="http://emilcarlsson.se/assets/harveyspecter.png" alt="" />
                        <p>Hello</p>
                    </li>
                    <li class="replies">
                        <img src="http://emilcarlsson.se/assets/harveyspecter.png" alt="" />
                        <p></p>
                    </li>
                    <li class="sent">
                        <img src="http://emilcarlsson.se/assets/mikeross.png" alt="" />
                        <p>
                        </p>
                    </li> -->

                </ul>
            </div>
            <div class="message-input">
                <div class="wrap">
                    <input type="text" placeholder="Type a message" name="message" value="" id="inputtext" />
                    <div class="typing">
                        <div class="bubble">
                            <div class="ellipsis one"></div>
                            <div class="ellipsis two"></div>
                            <div class="ellipsis three"></div>
                        </div>
                    </div>
                    <i class="fa fa-paperclip attachment" onclick="$('#file-opener').click();" aria-hidden="true"></i>
                    <input id="file-opener" type="file"
                        accept="application/pdf,image/*,video/*,.doc,.docx,.xml,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"
                        style="display:none" />
                    <button class="submit"><i class="fa fa-paper-plane" aria-hidden="true"></i></button>
                </div>
            </div>
        </div>
    </div>
    <div id="myModal" class="modal">
        <span class="close" id="imageClose">&times;</span>
            <img class="modal-content" id="img01">
        <div id="caption"></div>
    </div>
    <!-- <script src='https://code.jquery.com/jquery-2.2.4.min.js'></script>-->
    <!--  {{ room_name|json_script:"room-name" }}-->
    <script>

        var myVar = setInterval(smswithalert, 5000);
        var myVar_allchats = setInterval(allchat_oline, 5000);

        $(document).ready(function () {
            smswithalert();
            chathistory();
            allchat_oline();
            $('#inputtext').keyup(typing)
            $('#inputtext').change(typing)
            
            //onIdleTimeOut();  //for logout after 10min uncomment this line
        });

        function openHold() { }

        function typing() {
            let text = $('#inputtext').val();
            text && text.trim().length ? $('.typing').show() : $('.typing').hide();
        }
        function smswithalert() {
            // https://www.cybot.co:81/chatroom/918299534933/

            const chat = "https://www.cybot.co/chatroom/dashboard/";
            const chat1 = "room1.html";
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            const authT = urlParams.get("authT");
            // const authT ="f11a2a27af4cd4f6ab2798b3a10771d3acb664ac"; 
            try {

                $.ajax({
                    type: "GET",
                    url: "https://www.cybot.co/api/smsalert",
                    dataType: "json",
                    processData: false,
                    headers: {
                        Authorization: "Token " + authT + "",
                    },
                    success: function (data) {
                        if (data.length > 0) {

                            var totallist = "";
                            for (var i = 0; i < data.length; i++) {
                                var mobile = data[i].mobile;
                                var msg = data[i].msg;
                                var username = data[i].username;

                                var link = chat1 + "?username=" + localStorage.getItem("username") + "&number=" + mobile + "&authT=" + authT;
                                //  var link = chat1 + numbers[i]+"?username="+localStorage.getItem("username")+"&number="+numbers[i];
                                var buffer = "<li class='contact active'><a style='color:white' href=" + link + "  role='button'><div class='wrap'><span class='contact-status online'></span><img src='images/profile.png' alt=''/><div class='meta'>";

                                if (mobile.length >= 18) {
                                    var mobile = data[i].mobile;
                                    var mobile_no = data[i].mobile_no;
                                    if (msg == "" || msg == null) {
                                        
                                        getNotificationOff();

                                        buffer += "<p class='name' style='color:#ecf0f1;'>" + mobile_no + "(" + username + ")<span onclick='holdmodule()'>...</span></a><i href='javascript:void(0)' id=" + mobile + "  onclick='displayInfoinModal2(this.id)'   class='fa fa-info-circle' aria-hidden='true'></i></p><p class='preview1' style='color:#27ae60;'>Active</p>" +
                                            "</div></div></li>"
                                    } else {
                                        getNotificationOn();
                                        buffer += "<p class='name' style='color:#ecf0f1;'>" + mobile_no + "(" + username + ")</p><p class='preview1' style='color:yellow'>" + msg + "..</p>" +
                                            "</div></div></a></li>"

                                    }

                                } else {

                                    if (msg == "" || msg == null) {
                                        
                                        getNotificationOff();

                                        buffer += "<p class='name' style='color:#ecf0f1;'>" + mobile + "(" + username + ")<span onclick='holdmodule()'>...</span></p><p class='preview1' style='color:#27ae60;'>Active</p>" +
                                            "</div></div></a></li>"
                                    } else {
                                        getNotificationOn();
                                        buffer += "<p class='name' style='color:#ecf0f1;'>" + mobile + "(" + username + ")</p><p class='preview1' style='color:yellow'>" + msg + "..</p>" +
                                            "</div></div></a></li>"

                                    }
                                }

                                totallist += buffer;
                            }
                            document.getElementById("body_users").innerHTML = totallist;
                        } else {
                            var buffer_no = "<li class='contact active'><a href='' role='button'><div class='wrap'><span class='contact-status'></span><img src='images/profile.png' alt=''/><div class='meta'>";
                            buffer_no += "<p class='name' style='color: #ff0000c9;font-size: 16px;font-weight: 600;'>No Live User</p><p class='preview' style='color:#27ae60;'></p>" +
                                "</div></div></a></li>"

                            document.getElementById("body_users").innerHTML = buffer_no;
                        }

                    },
                    error:function(jqXHR, textStatus, errorThrown) { 
                        if(jqXHR.status==401){
                            alert("Session expired! Please login again");
                            logout();
                        }else{
                            alert("Internal Server Issue");
                            //logout();
                        }
                    },
                });

            } catch (e) {
            }

        }


        function getAssignedUser() {
            // https://www.cybot.co:81/chatroom/918299534933/

            const chat = "https://www.cybot.co/chatroom/dashboard/";
            const chat1 = "room1.html";
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            const authT = urlParams.get("authT");
            // const authT ="f11a2a27af4cd4f6ab2798b3a10771d3acb664ac"; 
            try {

                $.ajax({
                    type: "GET",
                    url: "https://www.cybot.co/api/human",
                    dataType: "json",
                    processData: false,
                    headers: {
                        Authorization: "Token " + authT + "",
                    },
                    success: function (data) {
                        
                        var x = data[0].list_numbers;
                        
                        if (x == null) {

                            var buffer_no = "<li class='contact active'><a href='' role='button'><div class='wrap'><span class='contact-status'></span><img src='images/profile.png' alt=''/><div class='meta'>";
                            
                            buffer_no += "<p class='name' style='color:#ecf0f1;'>No User</p><p class='preview' style='color:#27ae60;'></p>" +
                                "</div></div></a></li>"

                            document.getElementById("body_users").innerHTML = buffer_no;
                        }

                        var numbers = x.split(";");

                        if (numbers.length > 0) {

                            var totallist = "";
                            for (var i = 0; i < numbers.length; i++) {
                                var link = chat1 + "?username=" + localStorage.getItem("username") + "&number=" + numbers[i] + "&authT=" + authT;
                               
                                var buffer = "<li class='contact active'><a href=" + link + "  role='button'><div class='wrap'><span class='contact-status online'></span><img src='images/profile.png' alt=''/><div class='meta'>";
                                
                                buffer += "<p class='name' style='color:#ecf0f1;'>" + numbers[i] + "</p><p class='preview' style='color:#27ae60;'>Active</p>" +
                                    "</div></div></a></li>"
                                //	document.getElementById("body_users").innerHTML = buffer;
                                totallist += buffer;
                            }
                            document.getElementById("body_users").innerHTML = totallist;
                        } else {
                            var buffer_no = "<li class='contact active'><a href='' role='button'><div class='wrap'><span class='contact-status'></span><img src='images/profile.png' alt=''/><div class='meta'>";
                            buffer_no += "<p class='name' style='color:#ecf0f1;'>no user</p><p class='preview' style='color:#27ae60;'></p>" +
                                "</div></div></a></li>"

                            document.getElementById("body_users").innerHTML = buffer_no;
                        }

                    },
                    error:function(jqXHR, textStatus, errorThrown) { 
                        if(jqXHR.status==401){
                            alert("Session expired! Please login again");
                            logout();
                        }else{
                            alert("Internal Server Issue");
                            //logout();
                        }
                    },
                });

            } catch (e) {

            }
        }

        function allchat_oline() {

            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            const authT = urlParams.get("authT");

            $.ajax({
                type: "GET",
                url: "https://www.cybot.co/api/allchats",
                dataType: "json",
                processData: false,
                headers: {
                    Authorization: "Token " + authT + "",
                },
                success: function (data) {
                   
                    
                    if (data.length > 0) {

                        var totallist = "";
                        for (var i = 0; i < data.length; i++) {
                            var username = data[i].username;
                            //	var link = chat1+"?username="+localStorage.getItem("username")+"&number="+numbers[i]+"&authT="+authT;
                            //  var link = chat1 + numbers[i]+"?username="+localStorage.getItem("username")+"&number="+numbers[i];
                            var mobile = data[i].mobile;
                            var mobile_no = data[i].mobile_no;
                            var agent = data[i].agent;
                            var holdStatus = data[i].hold;
                            let agentname = params.get('username');
                            if (agent == agentname) { } else {

                                var buffer = "<li class='contact active'><a href='javascript:void(0)'  role='button'><div class='wrap'><span class='contact-status'></span><img src='images/profile.png' alt=''/><div class='meta'>";
                                // console.log(data[i]);
                                if (mobile.length >= 18) {
                                    var mobNo = "'" + mobile + "'";
                                    buffer += "<p class='name' style='color:#ecf0f1;'>" + mobile_no + "(" + username + ")<i id=" + mobNo + "  onclick='displayInfoinModal(this.id)'   class='fa fa-info-circle' aria-hidden='true'></i></p><p style='color:#e67e22;'>" + agent + "</p>" +
                                        "</div></div></a></li>"
                                } else {
                                    buffer += "<p class='name' style='color:#ecf0f1;'>" + mobile + "(" + username + ")</p><p style='color:#e67e22;'>" + agent + "</p>" +
                                        "</div></div></a></li>"
                                }

                                //	document.getElementById("body_users").innerHTML = buffer;
                                totallist += buffer;
                            }
                        }
                        document.getElementById("assign_agent").innerHTML = totallist;
                    } else {
                        //   document.getElementById("assign_agent").innerHTML = "No Agents assigned.";
                 
                    }

                },
                error:function(jqXHR, textStatus, errorThrown) { 
                  if(jqXHR.status==401){
                      alert("Session expired! Please login again");
                      logout();
                  }else{
                      alert("Internal Server Issue");
                      //logout();
                  }
              },
            });
        }

        // let username = "agent2";
        const params = new URLSearchParams(window.location.search)
        // for (const param of params) {
        // console.log(param)
        // }

        let agentname = params.get('username');
        //alert(agentname);
        let username = params.get('number');
        $('.agentname').text(agentname);
        $('.contact .name').text(username);
        $('.contact-profile .name').text(username);

        const chatSocket = new WebSocket(

            'wss://www.cybot.co:4444/ws/chatroom/' + username + '/'
            
        );

        chatSocket.onmessage = function (e) {
            console.log("In message==");
            const data = JSON.parse(e.data);
            var today = new Date();
                var time = today.getHours() + ":" + today.getMinutes() + ":" + today.getSeconds();
            if(data.type == "chat_close") {
                alert("This chat has been closed");
                return;
            }
           
            if (data.payload.attachment && agentname === data.payload.username) {
                //alert("recieved imaged");
                return receiveAttachment(data.payload.attachment, true);
            }
            if (data.payload.attachment && data.from == "user") {
                
                return receiveAttachment_new(data.payload);
            }
            // alert(JSON.stringify(data.payload));
            if (agentname === data.payload.username) {
                receiveMessage(data.payload.msg, true, time);
                
            } else {
                receiveMessage(data.payload.msg, false, time);
            }

            $(".messages").animate({ scrollTop: $('.messages')[0].scrollHeight }, "fast");
        };


        var image_id;
        function receiveAttachment_new(message) {
           
            if (message.type == "image") {
                $('<li class="replies"><img src="images/harveyspecter.png" alt="" /><img class="attachment image" src=' + message.attachment + ' id=' + image_id + ' onclick="openimage(' + image_id + ')"></li>').appendTo($('.messages ul'));
                $('.contact.active .preview').html(`<span>${username}: </span> Sent an image`);
            } else if (message.type == 'video') {
                $('<li class="replies"><img src="images/harveyspecter.png" alt="" /><video class="attachment image"  src=' + message.attachment + ' controls></li>').appendTo($('.messages ul'));
                $('.contact.active .preview').html(`<span>${username}: </span> Sent a video`);
            }
            else if (message.type == "document") {
                if (message.attachment.startsWith('http')) {

                    $('<li class="replies"><img src="images/harveyspecter.png" alt="" /><div class="attachment other"><a href=' + message.attachment + ' target="_blank"><div class="format">DOC</div></a><div class="filename">Document file</div></li>').appendTo($('.messages ul'));
                } else {
                    $('<li class="replies"><img src="images/harveyspecter.png" alt="" /><div class="attachment other"><a download=' + message.name + ' href=' + message.attachment + ' target="_blank"><div class="format">DOC</div></a><div class="filename">Document file</div></li>').appendTo($('.messages ul'));

                }
                $('.contact.active .preview').html(`<span>${username}: </span> Sent a document`);
            }
            $(".messages").animate({ scrollTop: $('.messages')[0].scrollHeight }, "fast");
            image_id++;
        }
        //var imageid = 1;
        $(".messages").animate({ scrollTop: $('.messages')[0].scrollHeight }, "fast");
        $("#file-opener").change((e) => {
            let fileOpener = $("#file-opener")[0];
            let files = fileOpener.files;
            let [type, extension] = files[0].type.split('/');
            let node;
           
            if (type == 'image') {
               
                $('<li class="sent"><img src="images/mikeross.png" alt="" /><img class="attachment image"  src=' + URL.createObjectURL(files[0]) + '></li>').appendTo($('.messages ul'));
                $('.contact.active .preview').html('<span>You: </span> Sent an image');
            } else if (type == 'video') {
                //         console.log("video");
                $('<li class="sent"><img src="images/mikeross.png" alt="" /><video class="attachment image"  src=' + URL.createObjectURL(files[0]) + '></li>').appendTo($('.messages ul'));
                $('.contact.active .preview').html('<span>You: </span> Sent a video');
            } else {
                //     console.log("doc");
                let format = files[0].name.split('.').pop();
                $(`<li class="sent"><img src="images/mikeross.png" alt="" /><div class="attachment other"><div class="format">${format}</div><div class="filename">${files[0].name}</div></li>`).appendTo($('.messages ul'));
                $('.contact.active .preview').html('<span>You: </span> Sent a file');
            }
            $(".messages").animate({ scrollTop: $('.messages')[0].scrollHeight }, "fast");
            function msg(str) {

                var ctx = cv.getContext('2d');
                var img = new Image();

                img.src = "data:image/png;base64," + str;
                img.onload = function () {
                    ctx.drawImage(img, 0, 0);
                }
            }
            const file = e.target.files[0];
            var reader = new FileReader();
            reader.onloadend = function () {
                var base64src = reader.result;
                sendAttachment(base64src);
            }
            reader.readAsDataURL(file);

            //  imageid++;
            // sendAttachment(files[0]);
        });


        var idd = 1;
        function receiveAttachment(message, type, self) {
            if (self) {
               
                if (type == "image") {
                    $('<li class="sent"><img src="images/harveyspecter.png" alt="" /><img class="attachment image" src=' + message + ' id=' + idd + ' onclick="openimage(' + idd + ')"></li>').appendTo($('.messages ul'));
                    $('.contact.active .preview').html(`<span>${username}: </span> Sent an image`);
                } else if (type == 'video') {
                    $('<li class="sent"><img src="images/harveyspecter.png" alt="" /><video class="attachment image"  src=' + message + ' controls></li>').appendTo($('.messages ul'));
                    $('.contact.active .preview').html(`<span>${username}: </span> Sent a video`);
                }
                else if (type == "document") {
                    $('<li class="sent"><img src="images/harveyspecter.png" alt="" /><div class="attachment other"><a href=' + message + ' target="_blank"><div class="format">DOC</div></a><div class="filename">Document file</div></li>').appendTo($('.messages ul'));
                    $('.contact.active .preview').html(`<span>${username}: </span> Sent a document`);
                }

            } else {
                if (type == "image") {
                    $('<li class="replies"><img src="images/harveyspecter.png" alt="" /><img class="attachment image" src=' + message + ' id=' + idd + ' onclick="openimage(' + idd + ')"></li>').appendTo($('.messages ul'));
                    $('.contact.active .preview').html(`<span>${username}: </span> Sent an image`);
                } else if (type == 'video') {
                    $('<li class="replies"><img src="images/harveyspecter.png" alt="" /><video class="attachment image"  src=' + message + ' controls></li>').appendTo($('.messages ul'));
                    $('.contact.active .preview').html(`<span>${username}: </span> Sent a video`);
                }
                else if (type == "document") {
                    // console.log("images");
                    $('<li class="replies"><img src="images/harveyspecter.png" alt="" /><div class="attachment other"><a href=' + message.attachment + ' target="_blank"><div class="format">DOC</div></a><div class="filename">Document file</div></li>').appendTo($('.messages ul'));
                    $('.contact.active .preview').html(`<span>${username}: </span> Sent a document`);
                }

            }
            $(".messages").animate({ scrollTop: $('.messages')[0].scrollHeight }, "fast");
            idd++;
        }

        chatSocket.onclose = function (e) {
            console.error('Chat socket closed unexpectedly');
        //     setTimeout(function () {
        //     let socketURL = 'wss://www.cybot.co:4444/ws/chatroom/'
        //     // console.warn('Trying to connect to websocket');
        //     chatSocket = new WebSocket(`${socketURL}/${username}/`);
        // }, 5000);
        };

        $(".messages").animate({ scrollTop: $('.messages')[0].scrollHeight }, "fast");

        $("#profile-img").click(function () {
            $("#status-options").toggleClass("active");
        });

        $(".expand-button").click(function () {
            $("#profile").toggleClass("expanded");
            $("#contacts").toggleClass("expanded");
        });

        $("#status-options ul li").click(function () {
            $("#profile-img").removeClass();
            $("#status-online").removeClass("active");
            $("#status-away").removeClass("active");
            $("#status-busy").removeClass("active");
            $("#status-offline").removeClass("active");
            $(this).addClass("active");

            if ($("#status-online").hasClass("active")) {
                $("#profile-img").addClass("online");
            } else if ($("#status-away").hasClass("active")) {
                $("#profile-img").addClass("away");
            } else if ($("#status-busy").hasClass("active")) {
                $("#profile-img").addClass("busy");
            } else if ($("#status-offline").hasClass("active")) {
                $("#profile-img").addClass("offline");
            } else {
                $("#profile-img").removeClass();
            };

            $("#status-options").removeClass("active");
        });

        function sendMessage() {     
            //alert("msg received");
            // console.log("In message==");    
            message = $(".message-input input").val();
            if ($.trim(message) == '') {
                return false;
            }
            //alert(message);
            //console.log(username);
            let roomName = params.get('number');
            if (roomName.length <= 18) {
                //  alert(message);
                chatSocket.send(JSON.stringify({
                    'payload': {
                        msg: message,
                        username: agentname
                    },
                    type: "chat_message",
                    from: "agent"
                }));
                //   messageInputDom.value = '';
            } else {
               
                chatSocket.send(JSON.stringify({
                    'payload': {
                        msg: message,
                        agent: agentname
                    },
                    type: "botquery",
                    from: "agent"
                }));
                //    messageInputDom.value = '';
            }
            /* $(".messages").animate({ scrollTop: $('.messages')[0].scrollHeight }, "fast"); */
            $('.message-input input').val(null);
            $('.typing').hide();
        };

        function sendAttachment(file) {
            //alert("line 764")
            
            let roomName = params.get('number');
            if (roomName.length <= 18) {
                chatSocket.send(JSON.stringify({
                    'payload': {
                        attachment: file,
                        username: agentname
                    },
                    type: "chat_message",
                    from: "agent"
                }));
                //   messageInputDom.value = '';
            } else {
                chatSocket.send(JSON.stringify({
                    'payload': {
                        attachment: file,
                        agent: agentname
                    },
                    type: "botattachment",
                    from: "agent"
                }));
                //    messageInputDom.value = '';
            }

            $(".messages").animate({ scrollTop: $('.messages')[0].scrollHeight }, "fast");
            $('.message-input input').val(null);
            $('.typing').hide();
        };

         function banuser() {
            let roomName = params.get('number');
            chatSocket.send(JSON.stringify({
                'payload': {
                    username: agentname
                },
                type: "banuser",
                from: "agent"
            }));
            //   messageInputDom.value = '';


        };

        function chatClose() {
           // alert('hello from chatclose function');
            let roomName = params.get('number');
            chatSocket.send(JSON.stringify({
                'payload': {
                    //text: "Chat ";
                    username: agentname
                },
                type: "chat_close",
                from: "agent"
            }));
            $(".messages").animate({ scrollTop:$(".messages").height() + $(".messages").scrollTop() });
            $('<li class="sent"><p>This chat is closed  by user</p></li>').appendTo($('.messages ul'));
            $('.contact.active .preview').html('<span>You: </span>' + message);    
            $("#messages").attr("style", "display:none");//yahs        
                        
        };

        function receiveMessage(message, self, Time, agentName, date) {
            if (self) {
                $('<li class="sent"><img src="images/mikeross.png" alt="" /><p>' + message + '<span class="date"><i>' + Time + '</i>&nbsp;&nbsp;<i>' + date + '</i>&nbsp;&nbsp;<i>' + agentName + '</i></span></p></li>').appendTo($('.messages ul'));
                $('.contact.active .preview').html('<span>You: </span>' + message);
            } else {
                $('<li class="replies"><img src="images/harveyspecter.png" alt="" /><p>' + message + '<span class="date"><i>' + Time + '</i>&nbsp;&nbsp;<i>' + date + '</i></span></p></li>').appendTo($('.messages ul'));
                $('.contact.active .preview').html('<span>Agent: </span>' + message);
            }
           // $(".messages").animate({ scrollBottom: $('.messages')[0].scrollHeight }, "fast");
           $(".messages").stop({ scrollBottom: $('.messages')[0].scrollHeight }, "fast");
        };

        $('.submit').click(function () {
            sendMessage();
        });

        $(window).on('keydown', function (e) {
            if (e.which == 13) {
                sendMessage();
                return false;
            }
        });
        //# sourceURL=pen.js


        function chathistory(index) {
            
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            const authT = urlParams.get("authT");
            var username1 = username;
            // alert(""+username1);
             //var index = 10;
             //console.log("befor api hit==="+index);
             $.ajax({
                "url": "https://www.cybot.co/wa/incoming?mobile=" + username1,
                "method": "Get",
                "timeout": 0,
                async: false,
                "headers": {
                    "Authorization": "Token " + authT + "",
                    "Content-Type": "application/json",
                },
                success: function (res) {
                    for (var i = 0; i < res.length; i++) {
                        var agentname1 = res[i].agent;
                        var username = res[i].user;
                        var user_attachment = res[i].user_attachment;
                        var agent_attachment = res[i].agent_attachment;
                        var agent_media_type = res[i].agent_media_type;
                        var user_media_type = res[i].user_media_type;
                        var notification = res[i].notification;
                        //var time = res[i].time;
                        var agentName = res[i].agent_name;
                        var date = res[i].date;
                        var timeTemp = res[i].time;
                        var time = timeTemp.slice(0, 5);

                        if (agent_attachment == null || agent_attachment == "") {
                        } else {
                            
                            receiveAttachment(agent_attachment, agent_media_type, true);
                        }

                        if (user_attachment == null || user_attachment == "") {
                        } else {
                            
                            receiveAttachment(user_attachment, user_media_type, false);
                        }

                        if (agentname1 == null || agentname1 == "") { } else {
                            receiveMessage(agentname1, true, time, agentName, date);
                        }

                        if (username == null || username == "") { } else {
                            receiveMessage(username, false, time, "", date);
                        }

                        if(notification == null|| notification == ""){

                        }else{

                            notification_msg(notification, time);
                        }

                           $(".messages").animate({ scrollTop: $('.messages')[0].scrollHeight }, "fast"); 
                        
                    }
                    $(".messages").stop({ scrollTop:$(".messages").height() + $(".messages").scrollTop() });
                    index = index + 10;
                    console.log("after api hit==="+index);       
                },
                error:function(jqXHR, textStatus, errorThrown) { 
                  if(jqXHR.status==401){
                      alert("Session expired! Please login again");
                      logout();
                  }else{
                      alert("Internal Server Issue");
                      //logout();
                  }
              },
            }); 
    }

        // notiy
        function notification_msg(message, Time) {
           
         $('<li class="notification"><p>' + message + '<span class="date"><i>' + Time + '</i></span></p></li>').appendTo($('.messages ul'));
            $('.contact.active .preview').html('<span>You: </span>' + message);
            $(".messages").animate({ scrollBottom: $('.messages')[0].scrollHeight }, "fast");

        };

        function agentdashboard() {
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            const authT = urlParams.get("authT");
            window.location = "agentdashboard.html?authT=" + authT;
        }

        function logout() {
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            const authT = urlParams.get("authT");
            $.ajax({
                type: "Get",
                url: "https://www.cybot.co/api/logout",
                headers: {
                    Authorization: "Token " + authT + "",
                },
                success: function (data) {
                    window.location = "index.html";
                },
                error: function (data) {
                    window.location = "index.html";
                },
            });
        }

        //setInterval(getMessages, 1000);

        function allteam() {
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            const authT = urlParams.get("authT");
            window.location = "all_team.html?authT=" + authT;
        }

    </script>

    <script>
        function transfer() {
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            const number = urlParams.get("number");
            const authT = urlParams.get("authT");
            const username = urlParams.get("username");
            //window.location = "agenttransfer.html?customernumber="+number;
            window.location = "agenttransfer.html?customernumber="+number + "&authT=" + authT + "&username=" + username;

        }
    </script>


    <script>
        // Get the modal
        function openimage(id) {
            var modal = document.getElementById("myModal");

            // Get the image and insert it inside the modal - use its "alt" text as a caption
            var img = document.getElementById(id);
            //alert(img);
            var modalImg = document.getElementById("img01");
            var captionText = document.getElementById("caption");
            img.onclick = function () {
                modal.style.display = "block";
                modalImg.src = this.src;
                captionText.innerHTML = this.alt;
            }

            // Get the <span> element that closes the modal
            var span = document.getElementsByClassName("close")[0];
            

            // When the user clicks on <span> (x), close the modal
         
            span.onclick = function () {
                
                modal.style.display = "none";                  
            }

           


        }

        function HoldUnhold() {
        
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            const authT = urlParams.get("authT");
            const number = urlParams.get("number");
            $.ajax({
                type: "GET",
                url: "https://www.cybot.co/api/allchats",
                dataType: "json",
                processData: false,
                headers: {
                    Authorization: "Token " + authT + "",
                },
                success: function (data) {

                    if (data.length > 0) {
                        var totallist = "";
                        for (var i = 0; i < data.length; i++) {
                            var username = data[i].username;
                            var mobile = data[i].mobile;
                            var agent = data[i].agent;
                            var holdStatus= data[i].hold;
                            if(holdStatus){
                                document.getElementById("hold").innerHTML = "Unhold";
                            }else{
                                document.getElementById("hold").innerHTML = "Hold";
                            }
                        }
                    } 
                },
            });
}	

function onHold(){

    const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            const authT = urlParams.get("authT");
            const number = urlParams.get("number");
    let holdkey =  $("#hold").text();
    if(holdkey=='Hold'){
        var holdval=true;
    }else{
        var holdval=false;
    }
jQuery.ajax({
            url: "https://www.cybot.co/api/hold",
            type: "POST",
            data: {mobile: number, hold:holdval },
            dataType: "json",
            headers: {
                    Authorization: "Token " + authT + "",
                },
            success: function (data) {
           
            }
        });


}

function getNotificationOn() {
  
    var getFaviconApi = "https://api.byi.pw/favicon/?url=";
    favicon.animate([
                      "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHIAAAByCAYAAACP3YV9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAASfSURBVHja7J3LbttGFIaH1M1O5Auct+AMadF52T5AkUWLtKsAXrRoNwGCAgmCAE2axk1rwIlhR5ZtJYpra+ZMF6IL2XVqW5obyX/xPYD+T+RwyHPOMK01A+UHIUAkgEgAkQAiIRJAJIBIYFwk00mQRDoZxsRHkU4k04mehbYSowbxYaSTo1B/Z+VERjrZahL/OKu0mxITP40134VIg8Sab8fET23Lu0bsB4ickRaJvk95V9EiMYTImwschibwCqGfIfILtJU4DF3gZTpKDCKd/AaRkytwv2wCr1hDT2orsvgn6yoRa/6uViKbxI+rJvGcBZXu10Hkry3iZ1WVOE2kk98rKTLW/HUdBF56un1dKZFN4rt1kzgls18JkQsq7ddV4jmNyXJSapEa/LtmyrKKVBB4kSbxUalErsj8JcRdzV2ZHZRCZFflP0DY/7Mi86dBi+xQ9g1E3YxltfEoSJGx5l9B0C2rEyh7GJzIlXHvEHJuu8fkMiiRS6r3AmJmY01uvAxCZIvSryFkzhftlD32LvKOTEeQMff+UnkVuazyXyDC2JbkrReRkebYahh/jcc3nYtck/fxgGOYVZm/83FrRfh2ykWeOhO5IntvEbodujI7cnlFInSr3y/Fj9ZFdtX6K4Rt+wm2t+PiikTYbrAnskPZzwjY1Qv19Lk1kYsq3UPIbliS6x+siYwnr5IQtOPbq1GRDRI/IVjnt9cXxkXeUdlfCNd5+8GxcZFN4mOE67welmyskQjXTz3sM2Mi69i3EUwzLaWvjInsqHQXofphUaUHxkQWPfMI1s86KY2JjHRCCNUfJh92EChEAogEEAmREAmRACIBREIkREIkgEgAkRA57/dIFF1VQ2QxGwah+mjqIa6MiVxU2TZC9TaU8JPJUo8/EaqnUg+VbqP4qhoVAo+NisQDj5cKOvPlkOj78NL0OrBQoCyeIFz3pZC2+iMRsFu+t9MfqcQRwnXWtXxgra2uTekzhOyqMDmz1+g6GZSEGtfSt54znbAl2dtCyHa5K7NDF8Mg0PBqmSaJTVcDk3YQuLXm1pGzgUmR5hhAb2+E2RuXk6/YvfH9Nwje+Np4zFwPFWxo8S3CN742fsd8DN7tyvU/IMAMy7L3nvkchb2gxClEmN03ehHZoWwTEuaccqVy/8Pp2WSa8nMImY3VcX7tucxOD3DpKHEGMbN9OA5KZIvSB5Bzy+2G6j1iIR5y1lX5Qwi64VOqyp+wkI8dXJUbOAvk2m+N+RYrw0GgS3IdA5a+QFuJE1amo3ljDCH8D2vjfI+V8bDsJvETCDzfZvT2WZmPr4fE69/clEUka5Ho17h3YzhvfsGILGTWrn+kTWLHRHZBiWSTc5hrM/c11nzPVG7BiZx6nTeocD/j2HRewYostieHuJVWQOTU2vmp/F/2+anNjEohsmC3jFOaY+KqWPcZRF6sYh+UqA9z7CqX0omcEvq+rcTHEL8furgCKyPyQrUe8f0G8TOf61+D+MBnBpUQeUlq30UTUSHvKJTfXTmRl9grrta/TdwyG8SHkU62QvytxkSC8EEIEAkgEkAkgEiIBBAJIBLchn8GALcKpSzdZ9YmAAAAAElFTkSuQmCC",
                      "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHIAAAByCAYAAACP3YV9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAGwSURBVHja7N3BdUMhDEVBlqkk/ZdGB0oL8TEIIWZxC/hvtjYaETF0f0YAKZACKZAgBVIgtRxy/vxWLRZX8js7QkZyIC/GK4d6O2QUDeTlgMdAb4OMiwN5OWAKZnXIaNpTkNG89pDxWC0h49FaQcbjtYAMfYdZARLgAszTkOAWYZ6EBLYQ8xQkqMWYJyABbcDMhgSzCRMkyI8hgWzEzIIEsRkTJMh/QwJIwNwNafgkTJAgQVbC3AlpbJD6FHMXpJFBqgqkgQ9gggQJsjOkYQ9hggQJEqSWtxLSoCAFUiBBggQpkAIJEiRIgRRIkCBBggQpkAIJEiRIgVQuJEyQ8nNIgQTpTzwg5W91SoaE6Q0BgQTpnR0PJoF8AhJmEiJIkB7erYQ4PYXdAxEkSOciKiFOB1x6IIIE6chZJcTp7GAPxOkQaA/E6TRvD8TpWHYPxOl8fQ/ESpAwv9yvEuSA2AdyQOwD+Qro0r0qQw6IfSC7gW7b6BbIAbEP5K2gKbvcCHkLaOoeN0NWRD22QRfIk6glvrsjZAZquW9dBqn6GQGkQAqkQIIUSIHUJ/0BAAD//wMAm5snbqKa0WAAAAAASUVORK5CYII="                                            
                    ], 500);
   var audio = new Audio("voice.mp3");
   audio.play();             
}
function getNotificationOff() {
    
    favicon.animate([
                      "data:image/png;base64,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",
                     
    ], 200);
    
}
function displayInfoinModal(LmobId) {
          //  alert(LmobId);
            $('a').click(function (event) {
                return false;
            });
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            const authT = urlParams.get("authT");

            jQuery.ajax({
                url: "https://cybot.co/api/ipdetails",
                type: "POST",
                data: { mobile: LmobId },
                dataType: "json",
                headers: {
                    Authorization: "Token " + authT + "",
                },
                success: function (data) {
                    $("#myModalEye").show();
                   // alert(data.country_code.length);

                    var Flength = Object.keys(data).length;
                    var totallist = "";
                    var buffer = "";
                    if (Flength > 0) {
                        for (var i = 1; i < data.country_code.length; i++) {
                            buffer += "<tr><td>" + i + "." + "</td><td>" + data.IPv4 + " </td><td>" + data.latitude + "</td><td>" + data.longitude + "</td><td>" + data.postal + "</td><td>" + data.city + "</td><td>" + data.state + "</td><td>" + data.country_name + "</td><td>" + data.country_code + "</td></tr>"
                        }
                        totallist += buffer;
                        document.getElementById("responseInModal").innerHTML = totallist;
                        $("#myModalEye").show();
                    }
                },
            });

        };
function displayInfoinModal2(LmobId) {		    
			const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            const authT = urlParams.get("authT");
			jQuery.ajax({
                url: "https://cybot.co/api/ipdetails",
                type: "POST",
                data: { mobile: LmobId },
                dataType: "json",
                headers: {
                    Authorization: "Token " + authT + "",
                },
                success: function (data) {

                    var Flength = Object.keys(data).length;
				//	alert(Flength);
                    var totallist = "";
                    var buffer = "";
                    if (Flength > 0) {

                        for (var i = 1; i < data.country_code.length; i++) {
                            buffer += "<tr><td>" + i + "." + "</td><td>" + data.IPv4 + " </td><td>" + data.latitude + "</td><td>" + data.longitude + "</td><td>" + data.postal + "</td><td>" + data.city + "</td><td>" + data.state + "</td><td>" + data.country_name + "</td><td>" + data.country_code + "</td></tr>"
                        }
                        totallist += buffer;
                        document.getElementById("responseInModal").innerHTML = totallist;
                        $("#myModalEye").show();
                    }
                },
            });

        }
        function calcelPopup() {
            $("#myModalEye").hide();
        }
        function agentOnline() {

        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        const authT = urlParams.get("authT");

        var busyStatus = true;
        jQuery.ajax({
            url: "https://www.cybot.co/userstatus",
            type: "POST",
            data: { busy: 0 },
            dataType: "json",
            headers: {
                Authorization: "Token " + authT + "",
            },
            success: function (response) {
                if (response == "Status Updated successfully") {
                    var busyColor = document.getElementById("");
                }
            }
        });
        }
        function agentBusy() {

        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        const authT = urlParams.get("authT");

        var busyStatus = true;
        jQuery.ajax({
            url: "https://www.cybot.co/userstatus",
            type: "POST",
            data: { busy: 1 },
            dataType: "json",
            headers: {
                Authorization: "Token " + authT + "",
            },
            success: function (response) {
                if (response == "Status Updated successfully") {


                }
            }
        });
        }

        $("#imageClose").click(function(){
            var modal = document.getElementById("myModal");
            modal.style.display = "none";
        });
        
    </script>
</body>

</html>